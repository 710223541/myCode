<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style type="text/css">
*{margin:0;padding:0;}
#wrap{width:980px;overflow:hidden;margin:0 auto;position:relative;}
#left{width:120px;float:left;position:fixed;top:30px;list-style:none;}
#left>li>a{font:14px/40px "微软雅黑";}
#left>li.active{background:#0C3;}
#right{width:850px;float:right;}
#right div{height:800px;background:#CCC;margin-bottom:10px;}
</style>
</head>

<body>
<div id="wrap">
	<ul id="left">
		<li class="active"><a href="#div1">模块一</a></li>
        <li><a href="#div2">模块二</a></li>
        <li><a href="#div3">模块三</a></li>
        <li><a href="#div4">模块四</a></li>
        <li><a href="#div5">模块五</a></li>
        <li><a href="#div6">模块六</a></li>
	</ul>
    <div id="right">
    	<div id="div1">模块一</div>
        <div id="div2">模块二</div>
        <div id="div3">模块三</div>
        <div id="div4">模块四</div>
        <div id="div5">模块五</div>
        <div id="div6">模块六</div>
    </div>
</div>
<script src="jquery-1.8.3.min.js"></script>
<script type="text/javascript">
$(document).ready(function(e) {
    scrollSpy("#right","#left","active")
});

function scrollSpy(obj1,obj2,cn)
{
	var arr = [];
	$(obj1).children().each(function(){
		arr.push($(this).offset().top);	
	})
	
	$(window).on('scroll',function(){
		
		var scrollTop = $(this).scrollTop();
		
		for(var i=0;i<arr.length;i++)
		{
			if(arr[i] > scrollTop - 400)
			{
				$(obj2).children().removeClass(cn).eq(i).addClass(cn);
				
				return;
			}
		}	
	})		
}
</script>
</body>
</html>
