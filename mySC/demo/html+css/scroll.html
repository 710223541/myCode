<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>无标题文档</title>
<style type="text/css">
*{margin:0;padding:0;}
li{list-style:none;}
#wrap{width:94%;margin:0 auto;position:relative;overflow:hidden;}
#left{width:75%;float:left;}
#left div{height:800px;background:blue;margin-bottom:2%;color:#fff;}
#right{width:10%;float:right;position:fixed;right:3%;top:3%;border:1px solid #d5d5d5;border-radius:5px;border-bottom:none;min-width:4.5em;}
#right li.active{background:gainsboro;}
#right a:link,#right a:visited{display:inline-block;font:0.876em/2.5em "微软雅黑";text-decoration:none;text-align:center;border-bottom:1px solid #d5d5d5;width:100%;}
</style>
</head>

<body>
<div id="wrap">
	<div id="left">
    	<div id="list1">模块一</div>
        <div id="list2">模块二</div>
        <div id="list3">模块三</div>
        <div id="list4">模块四</div>
        <div id="list5">模块五</div>
    </div>
	<ul id="right">
		<li class="active"><a href="#list1">模块一</a></li>
        <li><a href="#list2">模块二</a></li>
        <li><a href="#list3">模块三</a></li>
        <li><a href="#list4">模块四</a></li>
        <li><a href="#list5">模块五</a></li>
	</ul>
</div>
<script src="jquery-1.8.3.min.js"></script>
<script type="text/javascript">
$(document).ready(function(e) {
    var arr = [];
	$("#left").children("div").each(function(){
		arr.push(Math.floor($(this).offset().top));	
	})
	console.log(arr);
	
	//监听
	$(window).on("scroll",function()
	{
		var scrollTop = $(this).scrollTop();
		
		for(var i=0;i<arr.length;i++)
		{
			if(arr[i] > scrollTop-500)
			{
				$("#right").children("li").removeClass("active").eq(i).addClass("active");
				return;	
			}
		}
	});
});
</script>
</body>
</html>
