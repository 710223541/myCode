<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>仿mac菜单</title>
<link rel = "Shortcut Icon" href="../png/myico.ico">
<style>
body{ margin:0; background:#DCEFFE;}
#wrap{ position:fixed; left:-128px; width:128px;}
#move{ height:100px; width:30px; position:absolute; left:128px; font:bold 50px/100px '微软雅黑'; color:#fff; background:rgba(50,160,220,0.2); text-align:center;}
#imgWra{ position:relative;}
#wrap img{ width:80px; height:80px; vertical-align:middle; position:absolute; left:0;}
</style>
<script src="../js/public.js"></script>
<script>
window.onload = function(){
	var oWra = document.getElementById('wrap');
	var oDiv = document.getElementById('move');
	var oDiv2 = document.getElementById('imgWra');
	var aImg = oWra.getElementsByTagName('img');
	var clientHeight=document.documentElement.clientHeight||document.body.clientHeight;
	
	oWra.style.height = clientHeight+'px';
	oDiv.style.top = (oWra.offsetHeight - oDiv.offsetHeight)/2 + 'px';
	oDiv2.style.height = oWra.offsetHeight-100+'px';
	oDiv2.style.marginTop = (oWra.offsetHeight-oDiv2.offsetHeight)/2+'px';
	
	for(var i=0; i<aImg.length; i++){
		aImg[i].style.top = oDiv2.offsetHeight/aImg.length*i+'px';
		aImg[i].onclick = function(){
			alert(this.title)
		}
	}
	oDiv.onmouseover = oWra.onmouseover = function(){
		timeMove(oDiv,{opacity:0});
		timeMove(oWra,{left:0});
	};
	oWra.onmouseout = function(){
		timeMove(oDiv,{opacity:100});
		timeMove(oWra,{left:-128});
	}
	oWra.onmousemove = function(ev){
		var ev = ev || event;
		for(var i=0; i<aImg.length; i++){
			var y = aImg[i].offsetTop + aImg[i].offsetHeight/2;
			var b = 1-Math.abs(ev.clientY-y)/560;
			if(b > 1){
				b = 1;
			}else if(b < 0.625){
				b = 0.625;
			}
			aImg[i].style.width = b*128+'px';
			aImg[i].style.height = b*128+'px';
		}
	};
};
</script>
</head>

<body style="height:2000px;">
	<div id="wrap">
    	<div id="move">》</div>
        <div id="imgWra">
        <img src="../img/mac_1.png" title="浏览器">
        <img src="../img/mac_2.png" title="文件夹">
        <img src="../img/mac_3.png" title="回收站">
        <img src="../img/mac_4.png" title="设置">
        <img src="../img/mac_8.png" title="声音">
        <img src="../img/mac_5.png" title="打开">
        <img src="../img/mac_6.png" title="电脑">
    </div></div>
</body>
</html>
